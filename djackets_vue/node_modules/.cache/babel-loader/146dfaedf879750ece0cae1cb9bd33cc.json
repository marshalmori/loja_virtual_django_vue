{"remainingRequest":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Search.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Search.vue","mtime":1634321059536},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1633837832438},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1633837832426},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1633837832438},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1633837832426}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21hcnNoYWwvRGV2L2UtY29tbWVyY2UtZGphbmdvLXZ1ZS9kamFja2V0c192dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IFByb2R1Y3RCb3ggZnJvbSAiQC9jb21wb25lbnRzL1Byb2R1Y3RCb3gudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWFyY2giLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1Y3RCb3g6IFByb2R1Y3RCb3gKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0czogW10sCiAgICAgIHF1ZXJ5OiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9ICJTZWFyY2ggfCBEamFja2V0cyI7CiAgICB2YXIgdXJpID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7CiAgICB2YXIgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmkpOwoKICAgIGlmIChwYXJhbXMuZ2V0KCJxdWVyeSIpKSB7CiAgICAgIHRoaXMucXVlcnkgPSBwYXJhbXMuZ2V0KCJxdWVyeSIpOwogICAgICB0aGlzLnBlcmZvcm1TZWFyY2goKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHBlcmZvcm1TZWFyY2g6IGZ1bmN0aW9uIHBlcmZvcm1TZWFyY2goKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldElzTG9hZGluZyIsIHRydWUpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi9hcGkvdjEvcHJvZHVjdHMvc2VhcmNoLyIsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6IF90aGlzLnF1ZXJ5CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInNldElzTG9hZGluZyIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Search.vue"],"names":[],"mappings":";;;;;;;;AAiBA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP,MAAuB,6BAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,KAAK,EAAE;AAFF,KAAP;AAID,GAVY;AAWb,EAAA,OAXa,qBAWH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,mBAAjB;AACA,QAAI,GAAE,GAAI,MAAM,CAAC,QAAP,CAAgB,MAAhB,CAAuB,SAAvB,CAAiC,CAAjC,CAAV;AACA,QAAI,MAAK,GAAI,IAAI,eAAJ,CAAoB,GAApB,CAAb;;AAEA,QAAI,MAAM,CAAC,GAAP,CAAW,OAAX,CAAJ,EAAyB;AACvB,WAAK,KAAL,GAAa,MAAM,CAAC,GAAP,CAAW,OAAX,CAAb;AACA,WAAK,aAAL;AACF;AACD,GApBY;AAqBb,EAAA,OAAO,EAAE;AACD,IAAA,aADC,2BACe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACpB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AADoB;AAAA,uBAEd,KAAI,CACP,IADG,CACE,0BADF,EAC8B;AAAE,kBAAA,KAAK,EAAE,KAAI,CAAC;AAAd,iBAD9B,EAEH,IAFG,CAEE,UAAC,QAAD,EAAc;AAClB,kBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACD,iBAJG,EAKH,KALG,CAKG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAPG,CAFc;;AAAA;AAUpB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAVoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWrB;AAZM;AArBI,CAAf","sourcesContent":["<template>\n  <div class=\"page-search\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">Search</h1>\n        <h2 class=\"is-size-5 has-text-grey\">Search term: \"{{ query }}\"</h2>\n      </div>\n      <ProductBox\n        v-for=\"product in products\"\n        v-bind:key=\"product.id\"\n        v-bind:product=\"product\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ProductBox from \"@/components/ProductBox.vue\";\n\nexport default {\n  name: \"Search\",\n  components: {\n    ProductBox,\n  },\n  data() {\n    return {\n      products: [],\n      query: \"\",\n    };\n  },\n  mounted() {\n    document.title = \"Search | Djackets\";\n    let uri = window.location.search.substring(1);\n    let params = new URLSearchParams(uri);\n\n    if (params.get(\"query\")) {\n      this.query = params.get(\"query\");\n      this.performSearch();\n    }\n  },\n  methods: {\n    async performSearch() {\n      this.$store.commit(\"setIsLoading\", true);\n      await axios\n        .post(\"/api/v1/products/search/\", { query: this.query })\n        .then((response) => {\n          this.products = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.$store.commit(\"setIsLoading\", false);\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}