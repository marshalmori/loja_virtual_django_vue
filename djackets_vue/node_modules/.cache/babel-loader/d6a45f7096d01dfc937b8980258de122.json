{"remainingRequest":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Category.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Category.vue","mtime":1634221316730},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1633837832438},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1633837832426}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21hcnNoYWwvRGV2L2UtY29tbWVyY2UtZGphbmdvLXZ1ZS9kamFja2V0c192dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKaW1wb3J0IFByb2R1Y3RCb3ggZnJvbSAiQC9jb21wb25lbnRzL1Byb2R1Y3RCb3giOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhdGVnb3J5IiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0Qm94OiBQcm9kdWN0Qm94CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcnk6IHsKICAgICAgICBwcm9kdWN0czogW10KICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldENhdGVnb3J5KCk7CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUodG8sIGZyb20pIHsKICAgICAgaWYgKHRvLm5hbWUgPT09ICJDYXRlZ29yeSIpIHsKICAgICAgICB0aGlzLmdldENhdGVnb3J5KCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldENhdGVnb3J5OiBmdW5jdGlvbiBnZXRDYXRlZ29yeSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNhdGVnb3J5U2x1ZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjYXRlZ29yeVNsdWcgPSBfdGhpcy4kcm91dGUucGFyYW1zLmNhdGVnb3J5X3NsdWc7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgYXhpb3MuZ2V0KCIvYXBpL3YxL3Byb2R1Y3RzLyIuY29uY2F0KGNhdGVnb3J5U2x1ZywgIi8iKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuY2F0ZWdvcnkgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IF90aGlzLmNhdGVnb3J5Lm5hbWUgKyAiIHwgRGphY2tldHMiOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgdG9hc3QoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4iLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiLAogICAgICAgICAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc0xvYWRpbmciLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Category.vue"],"names":[],"mappings":";;;AAgBA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAV;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE;AACR,QAAA,QAAQ,EAAE;AADF;AADL,KAAP;AAKD,GAXY;AAYb,EAAA,OAZa,qBAYH;AACR,SAAK,WAAL;AACD,GAdY;AAeb,EAAA,KAAK,EAAE;AACL,IAAA,MADK,kBACE,EADF,EACM,IADN,EACY;AACf,UAAI,EAAE,CAAC,IAAH,KAAY,UAAhB,EAA4B;AAC1B,aAAK,WAAL;AACF;AACD;AALI,GAfM;AAsBb,EAAA,OAAO,EAAE;AACD,IAAA,WADC,yBACa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACZ,gBAAA,YADY,GACG,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aADtB;;AAGlB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AAEA,gBAAA,KAAI,CACD,GADH,4BAC2B,YAD3B,QAEG,IAFH,CAEQ,UAAC,QAAD,EAAc;AAClB,kBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AACA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,QAAL,CAAc,IAAd,GAAqB,aAAtC;AACD,iBALH,EAMG,KANH,CAMS,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACA,kBAAA,KAAK,CAAC;AACJ,oBAAA,OAAO,EAAE,yCADL;AAEJ,oBAAA,IAAI,EAAE,WAFF;AAGJ,oBAAA,WAAW,EAAE,IAHT;AAIJ,oBAAA,YAAY,EAAE,IAJV;AAKJ,oBAAA,QAAQ,EAAE,IALN;AAMJ,oBAAA,QAAQ,EAAE;AANN,mBAAD,CAAL;AAQD,iBAhBH;;AAkBA,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAvBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBnB;AAzBM;AAtBI,CAAf","sourcesContent":["<template>\n  <div class=\"page-category\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h2 class=\"is-size-2 has-text-centered\">{{ category.name }}</h2>\n      </div>\n      <ProductBox\n        v-for=\"product in category.products\"\n        v-bind:key=\"product.id\"\n        v-bind:product=\"product\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { toast } from \"bulma-toast\";\nimport ProductBox from \"@/components/ProductBox\";\n\nexport default {\n  name: \"Category\",\n  components: {\n    ProductBox,\n  },\n  data() {\n    return {\n      category: {\n        products: [],\n      },\n    };\n  },\n  mounted() {\n    this.getCategory();\n  },\n  watch: {\n    $route(to, from) {\n      if (to.name === \"Category\") {\n        this.getCategory();\n      }\n    },\n  },\n  methods: {\n    async getCategory() {\n      const categorySlug = this.$route.params.category_slug;\n\n      this.$store.commit(\"setIsLoading\", true);\n\n      axios\n        .get(`/api/v1/products/${categorySlug}/`)\n        .then((response) => {\n          this.category = response.data;\n          document.title = this.category.name + \" | Djackets\";\n        })\n        .catch((error) => {\n          console.log(error);\n          toast({\n            message: \"Something went wrong. Please try again.\",\n            type: \"is-danger\",\n            dismissible: true,\n            pauseOnHover: true,\n            duration: 2000,\n            position: \"bottom-right\",\n          });\n        });\n\n      this.$store.commit(\"setIsLoading\", false);\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}