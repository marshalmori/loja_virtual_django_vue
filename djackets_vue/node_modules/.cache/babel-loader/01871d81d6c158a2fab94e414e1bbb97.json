{"remainingRequest":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/MyAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/MyAccount.vue","mtime":1634604993991},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1633837832438},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1633837832426}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21hcnNoYWwvRGV2L2UtY29tbWVyY2UtZGphbmdvLXZ1ZS9kamFja2V0c192dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBPcmRlclN1bW1hcnkgZnJvbSAiQC9jb21wb25lbnRzL09yZGVyU3VtbWFyeS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk15QWNjb3VudCIsCiAgY29tcG9uZW50czogewogICAgT3JkZXJTdW1tYXJ5OiBPcmRlclN1bW1hcnkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcmRlcnM6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gIk15IGFjY291bnQgfCBEamFja2V0cyI7CiAgICB0aGlzLmdldE15T3JkZXJzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICIiOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJuYW1lIik7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyaWQiKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUb2tlbiIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKICAgIGdldE15T3JkZXJzOiBmdW5jdGlvbiBnZXRNeU9yZGVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL3YxL29yZGVycy8iKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5vcmRlcnMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc0xvYWRpbmciLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/MyAccount.vue"],"names":[],"mappings":";;AAyBA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP,MAAyB,+BAAzB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,YAAY,EAAZ;AADU,GAFC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,MAAM,EAAE;AADH,KAAP;AAGD,GATY;AAUb,EAAA,OAVa,qBAUH;AACR,IAAA,QAAQ,CAAC,KAAT,GAAiB,uBAAjB;AACA,SAAK,WAAL;AACD,GAbY;AAcb,EAAA,OAAO,EAAE;AACP,IAAA,MADO,oBACE;AACP,MAAA,KAAK,CAAC,QAAN,CAAe,OAAf,CAAuB,MAAvB,CAA8B,eAA9B,IAAiD,EAAjD;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,UAAxB;AACA,MAAA,YAAY,CAAC,UAAb,CAAwB,QAAxB;AACA,WAAK,MAAL,CAAY,MAAZ,CAAmB,aAAnB;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,KARM;AASD,IAAA,WATC,yBASa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAClB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AADkB;AAAA,uBAEZ,KAAI,CACP,GADG,CACC,iBADD,EAEH,IAFG,CAEE,UAAC,QAAD,EAAc;AAClB,kBAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AACD,iBAJG,EAKH,KALG,CAKG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBAPG,CAFY;;AAAA;AAUlB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAVkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWnB;AApBM;AAdI,CAAf","sourcesContent":["<template>\n  <div class=\"page-my-account\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-12\">\n        <h1 class=\"title\">My account</h1>\n      </div>\n      <div class=\"column is-12\">\n        <button @click=\"logout()\" class=\"button is-danger\">Log out</button>\n      </div>\n      <hr />\n\n      <div class=\"column is-12\">\n        <h2 class=\"subtitle\">My orders</h2>\n\n        <OrderSummary\n          v-for=\"order in orders\"\n          v-bind:key=\"order.id\"\n          v-bind:order=\"order\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport OrderSummary from \"@/components/OrderSummary.vue\";\nexport default {\n  name: \"MyAccount\",\n  components: {\n    OrderSummary,\n  },\n  data() {\n    return {\n      orders: [],\n    };\n  },\n  mounted() {\n    document.title = \"My account | Djackets\";\n    this.getMyOrders();\n  },\n  methods: {\n    logout() {\n      axios.defaults.headers.common[\"Authorization\"] = \"\";\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"userid\");\n      this.$store.commit(\"removeToken\");\n      this.$router.push(\"/\");\n    },\n    async getMyOrders() {\n      this.$store.commit(\"setIsLoading\", true);\n      await axios\n        .get(\"/api/v1/orders/\")\n        .then((response) => {\n          this.orders = response.data;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.$store.commit(\"setIsLoading\", false);\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}