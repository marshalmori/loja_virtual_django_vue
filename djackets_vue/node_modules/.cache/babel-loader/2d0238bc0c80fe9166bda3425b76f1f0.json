{"remainingRequest":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Product.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Product.vue","mtime":1634204276811},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/babel-loader/lib/index.js","mtime":1633837832438},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/cache-loader/dist/cjs.js","mtime":1633837831146},{"path":"/home/marshal/Dev/e-commerce-django-vue/djackets_vue/node_modules/vue-loader-v16/dist/index.js","mtime":1633837832426}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21hcnNoYWwvRGV2L2UtY29tbWVyY2UtZGphbmdvLXZ1ZS9kamFja2V0c192dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9kdWN0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdDoge30sCiAgICAgIHF1YW50aXR5OiAxCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UHJvZHVjdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UHJvZHVjdDogZnVuY3Rpb24gZ2V0UHJvZHVjdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNhdGVnb3J5X3NsdWcsIHByb2R1Y3Rfc2x1ZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc0xvYWRpbmciLCB0cnVlKTsKCiAgICAgICAgICAgICAgICBjYXRlZ29yeV9zbHVnID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeV9zbHVnOwogICAgICAgICAgICAgICAgcHJvZHVjdF9zbHVnID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5wcm9kdWN0X3NsdWc7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9hcGkvdjEvcHJvZHVjdHMvIi5jb25jYXQoY2F0ZWdvcnlfc2x1ZywgIi8iKS5jb25jYXQocHJvZHVjdF9zbHVnKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMucHJvZHVjdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gX3RoaXMucHJvZHVjdC5uYW1lICsgIiB8IERqYWNrZXRzIjsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoKSB7CiAgICAgIGlmIChpc05hTih0aGlzLnF1YW50aXR5KSB8fCB0aGlzLnF1YW50aXR5IDwgMSkgewogICAgICAgIHRoaXMucXVhbnRpdHkgPSAxOwogICAgICB9CgogICAgICB2YXIgaXRlbSA9IHsKICAgICAgICBwcm9kdWN0OiB0aGlzLnByb2R1Y3QsCiAgICAgICAgcXVhbnRpdHk6IHRoaXMucXVhbnRpdHkKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJhZGRUb0NhcnQiLCBpdGVtKTsKICAgICAgdG9hc3QoewogICAgICAgIG1lc3NhZ2U6ICJPIHByb2R1dG8gZm9pIGFkaWNpb25hZG8gYW8gY2FycmluaG8uIiwKICAgICAgICB0eXBlOiAiaXMtc3VjY2VzcyIsCiAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIHBvc2l0aW9uOiAidG9wLXJpZ2h0IgogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/marshal/Dev/e-commerce-django-vue/djackets_vue/src/views/Product.vue"],"names":[],"mappings":";;;;AA8BA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,EADJ;AAEL,MAAA,QAAQ,EAAE;AAFL,KAAP;AAID,GAPY;AAQb,EAAA,OARa,qBAQH;AACR,SAAK,UAAL;AACD,GAVY;AAWb,EAAA,OAAO,EAAE;AACD,IAAA,UADC,wBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACjB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AACM,gBAAA,aAFW,GAEK,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aAFxB;AAGX,gBAAA,YAHW,GAGI,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAHvB;AAAA;AAAA,uBAKX,KAAI,CACP,GADG,4BACqB,aADrB,cACsC,YADtC,GAEH,IAFG,CAEE,UAAC,QAAD,EAAc;AAClB,kBAAA,KAAI,CAAC,OAAL,GAAe,QAAQ,CAAC,IAAxB;AACA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,OAAL,CAAa,IAAb,GAAoB,aAArC;AACD,iBALG,EAMH,KANG,CAMG,UAAC,KAAD,EAAW;AAChB,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,iBARG,CALW;;AAAA;AAcjB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAdiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAelB,KAhBM;AAiBP,IAAA,SAjBO,uBAiBK;AACV,UAAI,KAAK,CAAC,KAAK,QAAN,CAAL,IAAwB,KAAK,QAAL,GAAgB,CAA5C,EAA+C;AAC7C,aAAK,QAAL,GAAgB,CAAhB;AACF;;AAEA,UAAM,IAAG,GAAI;AACX,QAAA,OAAO,EAAE,KAAK,OADH;AAEX,QAAA,QAAQ,EAAE,KAAK;AAFJ,OAAb;AAIA,WAAK,MAAL,CAAY,MAAZ,CAAmB,WAAnB,EAAgC,IAAhC;AAEA,MAAA,KAAK,CAAC;AACJ,QAAA,OAAO,EAAE,uCADL;AAEJ,QAAA,IAAI,EAAE,YAFF;AAGJ,QAAA,WAAW,EAAE,IAHT;AAIJ,QAAA,YAAY,EAAE,IAJV;AAKJ,QAAA,QAAQ,EAAE,IALN;AAMJ,QAAA,QAAQ,EAAE;AANN,OAAD,CAAL;AAQD;AApCM;AAXI,CAAf","sourcesContent":["<template>\n  <div class=\"page-product\">\n    <div class=\"columns is-multiline\">\n      <div class=\"column is-9\">\n        <figure class=\"image mb-6\">\n          <img v-bind:src=\"product.get_image\" />\n        </figure>\n        <h1 class=\"title\">{{ product.name }}</h1>\n        <p>{{ product.description }}</p>\n      </div>\n\n      <div class=\"column is-3\">\n        <h2 class=\"subtitle\">Information</h2>\n        <p><strong>Price: </strong>R$ {{ product.price }}</p>\n        <div class=\"field has-addons mt-6\">\n          <div class=\"control\">\n            <input type=\"number\" class=\"input\" min=\"1\" v-model=\"quantity\" />\n          </div>\n          <div class=\"control\">\n            <a class=\"button is-dark\" @click=\"addToCart()\"\n              >Adicionar ao carrinho</a\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { toast } from \"bulma-toast\";\n\nexport default {\n  name: \"Product\",\n  data() {\n    return {\n      product: {},\n      quantity: 1,\n    };\n  },\n  mounted() {\n    this.getProduct();\n  },\n  methods: {\n    async getProduct() {\n      this.$store.commit(\"setIsLoading\", true);\n      const category_slug = this.$route.params.category_slug;\n      const product_slug = this.$route.params.product_slug;\n\n      await axios\n        .get(`/api/v1/products/${category_slug}/${product_slug}`)\n        .then((response) => {\n          this.product = response.data;\n          document.title = this.product.name + \" | Djackets\";\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      this.$store.commit(\"setIsLoading\", false);\n    },\n    addToCart() {\n      if (isNaN(this.quantity) || this.quantity < 1) {\n        this.quantity = 1;\n      }\n\n      const item = {\n        product: this.product,\n        quantity: this.quantity,\n      };\n      this.$store.commit(\"addToCart\", item);\n\n      toast({\n        message: \"O produto foi adicionado ao carrinho.\",\n        type: \"is-success\",\n        dismissible: true,\n        pauseOnHover: true,\n        duration: 2000,\n        position: \"top-right\",\n      });\n    },\n  },\n};\n</script>\n"],"sourceRoot":""}]}